(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){},276:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),c=a.n(o),i=a(282),s=(a(95),a(88)),l=a(28),u=a(283),m=a(280),p=a(281),h=a(284),d=a(42),v=a(80),f=a(81),g=a(8),E=a.n(g),y=a(87),b=a(14),x=a(20),k=a(21),w=a(26),O=a(22),j=a(27),I=a(82),C=a.n(I),N=(a(145),function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={imagesList:[],currentImage:0,error:!1,loading:!1,isOpen:!0},a}return Object(j.a)(t,e),Object(k.a)(t,[{key:"imageListAsImageGalleryItems",value:function(e){var t=this;return e.map(function(e){var a=e.id,n=e.name;return{src:"https://www.googleapis.com/drive/v3/files/".concat(a,"?alt=media&key=").concat(t.props.googleApiKey),caption:n}})}},{key:"getImagesList",value:function(){var e=Object(b.a)(E.a.mark(function e(t,a){var n,r,o,c,i,s,l,u,m,p,h=arguments;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=h.length>2&&void 0!==h[2]?h[2]:null,r=h.length>3&&void 0!==h[3]?h[3]:1e3,o=h.length>4&&void 0!==h[4]?h[4]:"name",e.prev=3,this.setState({loading:!0}),c="'".concat(t,"'+in+parents+and+mimeType+contains+'image/'")+(n?"+and+name+contains+'".concat(n,"'"):""),i="https://www.googleapis.com/drive/v3/files?q=".concat(c,"&orderBy=").concat(o,"&pageSize=").concat(r,"&key=").concat(a),s=[],l=!0;case 9:if(!l){e.next=21;break}return u=i+(!0!==l&&l?"&pageToken=".concat(l):""),e.next=13,fetch(u);case 13:return m=e.sent,e.next=16,m.json();case 16:p=e.sent,s.push.apply(s,Object(y.a)(p.files.map(function(e){return{id:e.id,name:e.name}}))),l=p.nextPageToken,e.next=9;break;case 21:this.setState({imagesList:this.imageListAsImageGalleryItems(s),loading:!1}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),console.error(e.t0),this.setState({error:!0,loading:!1});case 28:case"end":return e.stop()}},e,this,[[3,24]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(E.a.mark(function e(){var t,a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.folderId,n=t.googleApiKey,r=t.pattern,e.next=3,this.getImagesList(a,n,r);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"gotoPrevious",value:function(){this.setState({currentImage:this.state.currentImage-1})}},{key:"gotoNext",value:function(){this.setState({currentImage:this.state.currentImage+1})}},{key:"close",value:function(){"onClose"in this.props&&this.props.onClose(),this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement("div",{className:"loading"},"Loading..."):this.state.error?r.a.createElement("div",{className:"error"},"Error loading gallery!"):r.a.createElement(C.a,{images:this.state.imagesList,isOpen:this.state.isOpen,onClose:function(){return e.close()},onClickPrev:function(){return e.gotoPrevious()},onClickNext:function(){return e.gotoNext()},imageCountSeparator:"/",currentImage:this.state.currentImage})}}]),t}(n.Component)),S=a(83),B=a.n(S),A=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={text:void 0,loading:!1,error:!1},a}return Object(j.a)(t,e),Object(k.a)(t,[{key:"fetchText",value:function(){var e=Object(b.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.text();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.fetchText(this.props.source);case 4:t=e.sent,this.setState({text:t,loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),this.setState({error:!0,loading:!1});case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.error?r.a.createElement("p",{className:"danger"},"Error"):this.state.loading?r.a.createElement("p",{className:"loading"},"Loading..."):r.a.createElement(B.a,{source:this.state.text,escapeHtml:!1})}}]),t}(n.Component),L=(a(276),{nepal2015:{name:"Nepal 2015",props:{folderId:"0B05WBmFwB2iETlFEYU5VWEVyUmM"}},india2016:{name:"India 2016",props:{folderId:"0B05WBmFwB2iEQXM4bElaUDlPT2M"}},spb2017:{name:"Spb 2017",props:{folderId:"0B05WBmFwB2iEYXVWWGlTSVUwZzA"}}}),W="AIzaSyCRLzBFmko0AwnvUAWS78FhKxP75CukJFM",T=a(78),F=a.n(T),M=a(79),P=a.n(M),U=a(84),z={ganesh:a.n(U).a},K=function(e){return function(){return r.a.createElement(A,{source:e})}},V=Object(u.a)(function(e){var t=e.history,a=e.folderId,n=e.pattern,o=void 0===n?null:n;return r.a.createElement(N,{googleApiKey:W,folderId:a,pattern:o,onClose:function(){return t.push("/photo")}})}),D=Object(u.a)(function(e){var t=e.location,a=(e.match,e.history,e.staticContext,Object(l.a)(e,["location","match","history","staticContext"]));return t.pathname.startsWith(a.to)?r.a.createElement(m.a,Object.assign({className:"active"},a)):r.a.createElement(m.a,a)}),G=function(){return r.a.createElement("header",{id:"app-header"},r.a.createElement("nav",{id:"nav",className:"nav"},r.a.createElement("div",{className:"tight"},r.a.createElement("button",{href:"#",className:"icon",onClick:function(){var e=document.getElementById("nav");e.className="nav"===e.className?"nav responsive":"nav"}},r.a.createElement(d.a,{icon:v.a})),r.a.createElement("h1",null,r.a.createElement(m.a,{to:"/"},"xome4ok/travel"),r.a.createElement("div",{className:"navlinks"},r.a.createElement(D,{to:"/photo"},"photo"),r.a.createElement(D,{to:"/about"},"about")))),r.a.createElement("div",{className:"right-header-block"},r.a.createElement("a",{href:"https://github.com/xome4ok/travel",className:"link-icon"},r.a.createElement(d.a,{icon:f.a})))),r.a.createElement("hr",null))},J=Object(u.a)(function(e){e.location;var t=e.match;e.history,e.staticContext,Object(l.a)(e,["location","match","history","staticContext"]);return r.a.createElement(A,{source:z[t.params.text]})}),X=Object(u.a)(function(e){e.location;var t=e.match;e.history,e.staticContext,Object(l.a)(e,["location","match","history","staticContext"]);return r.a.createElement("section",null,r.a.createElement("ul",null,Object.entries(L).map(function(e){var a=Object(s.a)(e,2),n=a[0],o=a[1],c=o.name,i=o.props;return r.a.createElement("li",{key:n},r.a.createElement(m.a,{to:"/photo/".concat(n)},c),t.params.gallery===n?r.a.createElement(V,i):null)})))}),Y=function(){return r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement("article",{id:"app"},r.a.createElement(p.a,{exact:!0,path:"/",component:K(F.a)}),r.a.createElement(p.a,{exact:!0,path:"/about",component:K(P.a)}),r.a.createElement(p.a,{path:"/texts/:text",component:J}),r.a.createElement(h.a,null,r.a.createElement(p.a,{path:"/photo/:gallery",component:X}),r.a.createElement(p.a,{path:"/photo",component:X}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,{basename:"/travel"},r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},78:function(e,t,a){e.exports=a.p+"static/media/home.45935d39.md"},79:function(e,t,a){e.exports=a.p+"static/media/about.d41d8cd9.md"},84:function(e,t,a){e.exports=a.p+"static/media/ganesh.962421dc.md"},90:function(e,t,a){e.exports=a(279)},95:function(e,t,a){}},[[90,2,1]]]);
//# sourceMappingURL=main.06a31a88.chunk.js.map