(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{200:function(e,t,a){},202:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(11),c=a.n(o),i=a(208),s=(a(71),a(17)),l=a(63),m=a(29),u=a(206),p=a(209),g=a(207),h=a(53),v=a.n(h),d=a(26),f=a(54),E=a(55),b=a(12),k=a.n(b),y=a(28),w=a(56),O=a(57),x=a(62),I=a(58),j=a(64),B=a(59),N=a.n(B),S=(a(200),function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(x.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={imagesList:[],currentImage:0,error:!1,loading:!1,isOpen:!0},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"imageListAsImageGalleryItems",value:function(e){var t=this;return e.map(function(e){var a=e.id,n=e.name;return{src:"https://www.googleapis.com/drive/v3/files/".concat(a,"?alt=media&key=").concat(t.props.googleApiKey),caption:n}})}},{key:"getImagesList",value:function(){var e=Object(y.a)(k.a.mark(function e(t,a){var n,r,o,c,i,l,m,u,p,g,h=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=h.length>2&&void 0!==h[2]?h[2]:null,r=h.length>3&&void 0!==h[3]?h[3]:1e3,o=h.length>4&&void 0!==h[4]?h[4]:"name",e.prev=3,this.setState({loading:!0}),c="'".concat(t,"'+in+parents+and+mimeType+contains+'image/'")+(n?"+and+name+contains+'".concat(n,"'"):""),i="https://www.googleapis.com/drive/v3/files?q=".concat(c,"&orderBy=").concat(o,"&pageSize=").concat(r,"&key=").concat(a),l=[],m=!0;case 9:if(!m){e.next=21;break}return u=i+(!0!==m&&m?"&pageToken=".concat(m):""),e.next=13,fetch(u);case 13:return p=e.sent,e.next=16,p.json();case 16:g=e.sent,l.push.apply(l,Object(s.a)(g.files.map(function(e){return{id:e.id,name:e.name}}))),m=g.nextPageToken,e.next=9;break;case 21:this.setState({imagesList:this.imageListAsImageGalleryItems(l),loading:!1}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),console.error(e.t0),this.setState({error:!0,loading:!1});case 28:case"end":return e.stop()}},e,this,[[3,24]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(y.a)(k.a.mark(function e(){var t,a,n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.folderId,n=t.googleApiKey,r=t.pattern,e.next=3,this.getImagesList(a,n,r);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"gotoPrevious",value:function(){this.setState({currentImage:this.state.currentImage-1})}},{key:"gotoNext",value:function(){this.setState({currentImage:this.state.currentImage+1})}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement("div",{className:"loading"},"Loading..."):this.state.error?r.a.createElement("div",{className:"error"},"Error loading gallery!"):r.a.createElement(N.a,{images:this.state.imagesList,isOpen:this.state.isOpen,onClose:function(){return e.setState({isOpen:!1})},onClickPrev:function(){return e.gotoPrevious()},onClickNext:function(){return e.gotoNext()},imageCountSeparator:"/",currentImage:this.state.currentImage})}}]),t}(n.Component)),A=(a(202),{nepal2015:{name:"Nepal 2015",args:["0B05WBmFwB2iETlFEYU5VWEVyUmM"]},india2016:{name:"India 2016",args:["0B05WBmFwB2iEQXM4bElaUDlPT2M"]},spb2017:{name:"Spb 2017",args:["0B05WBmFwB2iEYXVWWGlTSVUwZzA"]}}),L="AIzaSyCRLzBFmko0AwnvUAWS78FhKxP75CukJFM",W=function(){return r.a.createElement("section",null,r.a.createElement(v.a,{source:"# \u042d\u0442\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a\n\n\u0410 \u044d\u0442\u043e - \u043e\u0431\u044b\u0447\u043d\u044b\u0439 **\u0442\u0435\u043a\u0441\u0442**."}))},C=function(){return r.a.createElement("section",null,r.a.createElement("ul",null,Object.entries(A).map(function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1],o=n.name;n.args;return r.a.createElement("li",{key:a},r.a.createElement(u.a,{to:"/photo/".concat(a)},o))})))},F=Object(p.a)(function(e){var t=e.location,a=Object(l.a)(e,["location"]);return t.pathname===a.to?r.a.createElement(u.a,Object.assign({className:"active"},a)):r.a.createElement(u.a,a)}),P=function(){return r.a.createElement("header",{id:"app-header"},r.a.createElement("nav",{id:"nav",className:"nav"},r.a.createElement("div",{className:"tight"},r.a.createElement("button",{href:"#",className:"icon",onClick:function(){var e=document.getElementById("nav");e.className="nav"===e.className?"nav responsive":"nav"}},r.a.createElement(d.a,{icon:f.a})),r.a.createElement("h1",null,r.a.createElement(u.a,{to:"/"},"xome4ok/travel"),r.a.createElement(F,{to:"/photo"},"photo"),r.a.createElement(F,{to:"/photo"},"text"),r.a.createElement(F,{to:"/photo"},"about"))),r.a.createElement("div",{className:"right-header-block"},r.a.createElement("a",{href:"https://github.com/xome4ok/travel"},r.a.createElement(d.a,{icon:E.a})))),r.a.createElement("hr",null))},T=function(){return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement("article",{id:"app"},r.a.createElement(g.a,{exact:!0,path:"/",component:W}),r.a.createElement(g.a,{path:"/photo",component:C}),Object.entries(A).map(function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1],o=(n.name,n.args);return r.a.createElement(g.a,{exact:!0,path:"/photo/".concat(a),component:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){return r.a.createElement(S,{googleApiKey:L,folderId:e,pattern:t})}}.apply(void 0,Object(s.a)(o)),key:a})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,{basename:"/travel"},r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},66:function(e,t,a){e.exports=a(205)},71:function(e,t,a){}},[[66,2,1]]]);
//# sourceMappingURL=main.56228c5a.chunk.js.map