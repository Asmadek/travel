(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){},204:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=a(210),s=(a(73),a(21)),l=a(66),u=a(34),m=a(208),p=a(211),h=a(209),g=a(32),v=a(60),d=a(61),f=a(6),E=a.n(f),b=a(12),y=a(17),k=a(18),x=a(22),w=a(19),O=a(24),j=a(62),I=a.n(j),N=(a(123),function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(x.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={imagesList:[],currentImage:0,error:!1,loading:!1,isOpen:!0},a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"imageListAsImageGalleryItems",value:function(e){var t=this;return e.map(function(e){var a=e.id,n=e.name;return{src:"https://www.googleapis.com/drive/v3/files/".concat(a,"?alt=media&key=").concat(t.props.googleApiKey),caption:n}})}},{key:"getImagesList",value:function(){var e=Object(b.a)(E.a.mark(function e(t,a){var n,r,c,o,i,l,u,m,p,h,g=arguments;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=g.length>2&&void 0!==g[2]?g[2]:null,r=g.length>3&&void 0!==g[3]?g[3]:1e3,c=g.length>4&&void 0!==g[4]?g[4]:"name",e.prev=3,this.setState({loading:!0}),o="'".concat(t,"'+in+parents+and+mimeType+contains+'image/'")+(n?"+and+name+contains+'".concat(n,"'"):""),i="https://www.googleapis.com/drive/v3/files?q=".concat(o,"&orderBy=").concat(c,"&pageSize=").concat(r,"&key=").concat(a),l=[],u=!0;case 9:if(!u){e.next=21;break}return m=i+(!0!==u&&u?"&pageToken=".concat(u):""),e.next=13,fetch(m);case 13:return p=e.sent,e.next=16,p.json();case 16:h=e.sent,l.push.apply(l,Object(s.a)(h.files.map(function(e){return{id:e.id,name:e.name}}))),u=h.nextPageToken,e.next=9;break;case 21:this.setState({imagesList:this.imageListAsImageGalleryItems(l),loading:!1}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),console.error(e.t0),this.setState({error:!0,loading:!1});case 28:case"end":return e.stop()}},e,this,[[3,24]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(E.a.mark(function e(){var t,a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.folderId,n=t.googleApiKey,r=t.pattern,e.next=3,this.getImagesList(a,n,r);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"gotoPrevious",value:function(){this.setState({currentImage:this.state.currentImage-1})}},{key:"gotoNext",value:function(){this.setState({currentImage:this.state.currentImage+1})}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement("div",{className:"loading"},"Loading..."):this.state.error?r.a.createElement("div",{className:"error"},"Error loading gallery!"):r.a.createElement(I.a,{images:this.state.imagesList,isOpen:this.state.isOpen,onClose:function(){return e.setState({isOpen:!1})},onClickPrev:function(){return e.gotoPrevious()},onClickNext:function(){return e.gotoNext()},imageCountSeparator:"/",currentImage:this.state.currentImage})}}]),t}(n.Component)),S=a(63),B=a.n(S),A=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(x.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={text:void 0,loading:!1,error:!1},a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"fetchText",value:function(){var e=Object(b.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.text();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.fetchText(this.props.source);case 4:t=e.sent,this.setState({text:t,loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),this.setState({error:!0,loading:!1});case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.error?r.a.createElement("p",{className:"danger"},"Error"):this.state.loading?r.a.createElement("p",{className:"loading"},"Loading..."):r.a.createElement(B.a,{source:this.state.text,escapeHtml:!1})}}]),t}(n.Component),C=(a(204),{nepal2015:{name:"Nepal 2015",args:["0B05WBmFwB2iETlFEYU5VWEVyUmM"]},india2016:{name:"India 2016",args:["0B05WBmFwB2iEQXM4bElaUDlPT2M"]},spb2017:{name:"Spb 2017",args:["0B05WBmFwB2iEYXVWWGlTSVUwZzA"]}}),L="AIzaSyCRLzBFmko0AwnvUAWS78FhKxP75CukJFM",W=a(58),T=a.n(W),F=a(59),M=a.n(F),P=function(){return r.a.createElement("section",null,r.a.createElement(A,{source:T.a}))},U=function(){return r.a.createElement("section",null,r.a.createElement("ul",null,Object.entries(C).map(function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1],c=n.name;n.args;return r.a.createElement("li",{key:a},r.a.createElement(m.a,{to:"/photo/".concat(a)},c))})))},z=Object(p.a)(function(e){var t=e.location,a=(e.match,e.history,e.staticContext,Object(l.a)(e,["location","match","history","staticContext"]));return t.pathname===a.to?r.a.createElement(m.a,Object.assign({className:"active"},a)):r.a.createElement(m.a,a)}),K=function(){return r.a.createElement("header",{id:"app-header"},r.a.createElement("nav",{id:"nav",className:"nav"},r.a.createElement("div",{className:"tight"},r.a.createElement("button",{href:"#",className:"icon",onClick:function(){var e=document.getElementById("nav");e.className="nav"===e.className?"nav responsive":"nav"}},r.a.createElement(g.a,{icon:v.a})),r.a.createElement("h1",null,r.a.createElement(m.a,{to:"/"},"xome4ok/travel"),r.a.createElement("div",{className:"navlinks"},r.a.createElement(z,{to:"/photo"},"photo"),r.a.createElement(z,{to:"/text"},"text"),r.a.createElement(z,{to:"/about"},"about")))),r.a.createElement("div",{className:"right-header-block"},r.a.createElement("a",{href:"https://github.com/xome4ok/travel",className:"link-icon"},r.a.createElement(g.a,{icon:d.a})))),r.a.createElement("hr",null))},V=function(){return r.a.createElement("section",null,r.a.createElement(A,{source:M.a}))},D=function(){return r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement("article",{id:"app"},r.a.createElement(h.a,{exact:!0,path:"/",component:P}),r.a.createElement(h.a,{path:"/photo",component:U}),r.a.createElement(h.a,{path:"/about",component:V}),Object.entries(C).map(function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1],c=(n.name,n.args);return r.a.createElement(h.a,{exact:!0,path:"/photo/".concat(a),component:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){return r.a.createElement(N,{googleApiKey:L,folderId:e,pattern:t})}}.apply(void 0,Object(s.a)(c)),key:a})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{basename:"/travel"},r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},58:function(e,t,a){e.exports=a.p+"static/media/home.783503ad.md"},59:function(e,t,a){e.exports=a.p+"static/media/about.69efd72e.md"},68:function(e,t,a){e.exports=a(207)},73:function(e,t,a){}},[[68,2,1]]]);
//# sourceMappingURL=main.f55fac40.chunk.js.map